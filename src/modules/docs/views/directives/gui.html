<div class="resource-gui">
    <h4><strong>/{{resource.name}}:</strong> Operations about {{resource.name}} </h4>

    <!-- HTTP methods menu -->
    <div class="btn-group">
        <button type="button" class="btn btn-default" ng-repeat="httpMethod in httpMethods"
                ng-class="{'active':selectedMethod == httpMethod}"
                ng-click="selectMethod(httpMethod)">
            {{httpMethod | uppercase }}
        </button>
    </div>

    <div class="col-md-12 request-response" ng-switch="selectedMethod">
        <table class="table table-condensed">
            <tr>
                <td><h4>Request</h4></td>
                <td><h4>Response</h4></td>
            </tr>
            <tr>
                <td class="first">
                    <custom-headers headers="request.headers"></custom-headers>

                    <div class="btn-group toggle-request-view">
                        <button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown">
                            {{ selectedRequestView | uppercase }} <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li ng-repeat="view in requestViews" ng-if="view !== selectedRequestView">
                                <a href ng-click="selectRequestView(view)">{{ view | uppercase }}</a>
                            </li>
                        </ul>
                    </div>

                    <div ng-switch-when="get">
                        <get-request resource="resource" request="request[selectedMethod]" headers="request.headers" view="{{selectedRequestView}}"></get-request>
                    </div>

                    <div ng-switch-when="post">
                        <post-request resource="resource" request="request[selectedMethod]" headers="request.headers" view="{{selectedRequestView}}"></post-request>
                    </div>

                    <div ng-switch-when="put">
                        <put-request resource="resource" request="request[selectedMethod]" headers="request.headers" view="{{selectedRequestView}}"></put-request>
                    </div>

                    <div ng-switch-when="patch">
                        <patch-request resource="resource" request="request[selectedMethod]" headers="request.headers" view="{{selectedRequestView}}"></patch-request>
                    </div>

                    <div ng-switch-when="delete">
                        <delete-request resource="resource" request="request[selectedMethod]" headers="request.headers" view="{{selectedRequestView}}"></delete-request>
                    </div>

                    <button type="button" ng-click="sendRequest(selectedMethod, resource.route, request[selectedMethod])" class="btn btn-default btn-primary">Send request</button>
                </td>
                <td class="first">
                    <div ng-if="response[selectedMethod]">
                        <response response="response[selectedMethod]"></response>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>