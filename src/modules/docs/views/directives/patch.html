<div>
    <toggle-request-view></toggle-request-view>

    <div class="request" ng-switch="selectedRequestView">
        <div ng-switch-when="gui">
            <custom-headers headers="globalRequest.headers"></custom-headers>

            <table class="table borderless">
                <tr>
                    <td>resourceId</td>
                    <td><input type="text" ng-model="request.id" class="form-control" /></td>
                </tr>
            </table>

            <table class="table table-bordered">
                <tr>
                    <td>Patch method</td>
                    <td>Path</td>
                    <td>Value</td>
                </tr>
                <tr>
                    <td>
                        <div class="btn-group">
                            <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                                {{ request.data[0].op || 'method' }} <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li ng-repeat="method in methods" ng-if="request.data[0].op !== method">
                                    <a href ng-click="selectMethod(method)">{{ method }}</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="btn-group">
                            <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                                {{ field.name || 'path' }} <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li ng-repeat="attrName in attributes | notSorted" ng-if="field.name !== attrName">
                                    <a href ng-click="selectAttribute(attrName)">{{ attrName }}</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <input type="text" ng-model="field.value" class="form-control" ng-change="onChange()"/>
                    </td>
                </tr>
            </table>
        </div>

        <div ng-switch-when="json">
            <json-request object="request.data[0]"></json-request>
        </div>
    </div>
</div>